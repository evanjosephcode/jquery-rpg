<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>jQuery RPG</title>

  <!-- Added link to the jQuery Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Added a link to Bootstrap-->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous">

  <link href="https://fonts.googleapis.com/css?family=Permanent+Marker|Rock+Salt" rel="stylesheet">

  <link rel="stylesheet" type="text/css" href="assets/css/style.css">

</head>

<body>

  <div class="jumbotron">
    <h1 class="text-center">jQuery RPG</h1>
    <h3 class="text-center instructions">Pick a character, and choose wisely Young Game Consumer-Padawan</h3>
    <h3 class="text-center force">... (I am one with the force, and the force is one with me)</h3>
  </div>

  <div class="row">
    <div id="chosen" class="chosen col-lg-4 col-md-4">Text </div>
    <div class="text-center versus col-lg-4 col-md-4"></div>
    <div id="enemy" class="enemydisplay col-lg-4 col-md-4"></div>
  </div>
  <div class="row">
    <div class="col-lg-4 col-md-4"></div>
    <div class="col-lg-4 col-md-4">
      <button id="button-1" class="btn btn-primary number">
        <p>Attack</p>
      </button>
    </div>
    <div class="col-lg-4 col-md-4"></div>
  </div>

  <div class="row"></div>
  <div id="images" class="text-center images col-lg-12 col-md-12">
    <img id="jay" class="jay img" data-name="jay" src="assets/images/j.jpg" alt="Jay from Jay and Silent Bob">
    <img class="mark img" data-name="mark" src="assets/images/m.jpg" alt="Evil Mark Hamill">
    <img class="puffin img" data-name="puffin" src="assets/images/p.jpg" alt="Puffin">
    <img class="bob img" data-name="bob" src="assets/images/s.jpg" alt="Silent Bob">
    <img class="dude img" data-name="dude" src="assets/images/w.jpg" alt="The Dude">
  </div>
  </div>

  <script type="text/javascript">
    $(document).ready(function () {

    alert(
    "click the character you want to be, then click the one you want to fight, then click YOUR character TO FIGHT"
    );

    //to take place of character selected 
    var hero = "";
    var opponent = ""; 
    //counters for # of attacks and wins
    var attackClicks = 0;
    var wins = 0;
    // objects
    var characters = {
            jay: {
              healthPoints: 120,
              attackPower: 8,
              counterAttackPower: 8,
              name: "jay"
            },
            mark: {
              healthPoints: 180,
              attackPower: 6,
              counterAttackPower: 6,
              name: "mark"
            },
            puffin: {
              healthPoints: 80,
              attackPower: 2,
              counterAttackPower: 2,
              name: "puffin"
            },
            bob: {
              healthPoints: 220,
              attackPower: 7,
              counterAttackPower: 7,
              name: "bob"
            },
            dude: {
              healthPoints: 200,
              attackPower: 6,
              counterAttackPower: 6,
              name: "dude"

            }
    };

    $("#button-1").on("click", function () {
      attackClicks += 1;
      hero.healthPoints = hero.healthPoints - opponent.counterAttackPower;
      opponent.healthPoints = opponent.healthPoints - hero.attackPower*attackClicks;
      console.log("your "+hero.name+" has "+hero.healthPoints+" and "+opponent.name+" has "+opponent.healthPoints); 
    });

    $(".img").on("click", function () {
      var thisCharacterName = $(this).attr("data-name");
      var thisCharacter = characters[thisCharacterName];
        console.log(thisCharacter); 
        hero = thisCharacter;
        alert("you chose "+hero.name);
        $(this).detach().appendTo(".chosen");
        $(this).off("click");
      $(".img").not($(this)).on("click", function () {
        var secondCharacterName = $(this).attr("data-name");
        var secondCharacter = characters[secondCharacterName];
        console.log(secondCharacter);
        opponent = secondCharacter;
        $(this).addClass("enemy");
        $(".versus").empty();
        $(this).detach().appendTo(".enemydisplay");
        $('<p>VERSUS</p>').appendTo(".versus");
        $(this).off("click");
      });
    });

    if (opponent.healthPoints <= 0) {
      $(".enemy").remove();
      $(".versus").empty();
      alert("you beat "+opponent.name);
      wins += 1;
    }

    if (wins === 4) {
      alert("you have beat the game, amazing!");
      location.reload(); 
    }

    if (hero.healthPoints <= 0) {
      alert("the game has beat you, your skills are not that amazing");
      location.reload(); 
    }

    

  });
  </script>
</body>
</html>